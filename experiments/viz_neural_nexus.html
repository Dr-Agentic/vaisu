<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vaisu - Neural Nexus</title>
    
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg: #020617;
            --primary: #6366f1;
            --secondary: #a855f7;
            --accent: #22d3ee;
        }
        
        body { 
            background-color: var(--bg); 
            color: #f8fafc; 
            font-family: 'Plus Jakarta Sans', sans-serif;
            overflow: hidden; 
            margin: 0;
        }

        .glass {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .node-pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { stroke-width: 2; stroke-opacity: 1; }
            50% { stroke-width: 8; stroke-opacity: 0.3; }
            100% { stroke-width: 2; stroke-opacity: 1; }
        }

        .link-flow {
            stroke-dasharray: 5;
            animation: flow 20s linear infinite;
        }

        @keyframes flow {
            from { stroke-dashoffset: 1000; }
            to { stroke-dashoffset: 0; }
        }

        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        // --- Icons (Inline SVG for Zero Dependencies) ---
        const Icons = {
            Concept: () => (
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
            ),
            Org: () => (
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
            ),
            Product: () => (
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 22V12"/></svg>
            ),
            Tech: () => (
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="16" height="16" x="4" y="4" rx="2"/><rect width="6" height="6" x="9" y="9" rx="1"/><path d="M15 2v2"/><path d="M15 20v2"/><path d="M2 15h2"/><path d="M2 9h2"/><path d="M20 15h2"/><path d="M20 9h2"/><path d="M9 2v2"/><path d="M9 20v2"/></svg>
            ),
            Metric: () => (
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
            )
        };

        const NODE_CONFIG = {
            concept: { color: '#a855f7', icon: Icons.Concept, label: 'Concept' },
            organization: { color: '#3b82f6', icon: Icons.Org, label: 'Org' },
            product: { color: '#f97316', icon: Icons.Product, label: 'Product' },
            technical: { color: '#64748b', icon: Icons.Tech, label: 'Tech' },
            metric: { color: '#10b981', icon: Icons.Metric, label: 'Metric' }
        };

        // --- Data Handling ---
        const RAW_DATA = {
            "documentId": { "S": "4299a899-e428-4059-bb51-e0f13c4315fd" },
            "SK": { "S": "ANALYSIS" },
            "analysis": {
                "M": {
                    "entities": {
                        "L": [
                            { "M": { "context": { "S": "Core business service offered, helping maximize cloud vendor relationships" }, "id": { "S": "entity-1" }, "importance": { "N": "1" }, "mentions": { "L": [ { "M": { "end": { "N": "64" }, "start": { "N": "30" }, "text": { "S": "Strategic Cloud Partnership Services" } } } ] }, "text": { "S": "Strategic Cloud Partnership Services" }, "type": { "S": "concept" } } },
                            { "M": { "context": { "S": "Example cloud vendor in business relationships" }, "id": { "S": "entity-2" }, "importance": { "N": "0.9" }, "mentions": { "L": [ { "M": { "end": { "N": "121" }, "start": { "N": "118" }, "text": { "S": "AWS" } } } ] }, "text": { "S": "AWS" }, "type": { "S": "organization" } } },
                            { "M": { "context": { "S": "Description of the service type provided" }, "id": { "S": "entity-3" }, "importance": { "N": "0.8" }, "mentions": { "L": [ { "M": { "end": { "N": "190" }, "start": { "N": "170" }, "text": { "S": "B2B consulting service" } } } ] }, "text": { "S": "B2B consulting service" }, "type": { "S": "concept" } } },
                            { "M": { "context": { "S": "Hybrid platform recommended as best overall for website transformation" }, "id": { "S": "entity-4" }, "importance": { "N": "0.95" }, "mentions": { "L": [ { "M": { "end": { "N": "345" }, "start": { "N": "338" }, "text": { "S": "Webflow" } } } ] }, "text": { "S": "Webflow" }, "type": { "S": "product" } } },
                            { "M": { "context": { "S": "Current domain provider, can be retained" }, "id": { "S": "entity-5" }, "importance": { "N": "0.6" }, "mentions": { "L": [ { "M": { "end": { "N": "613" }, "start": { "N": "606" }, "text": { "S": "GoDaddy" } } } ] }, "text": { "S": "GoDaddy" }, "type": { "S": "organization" } } },
                            { "M": { "context": { "S": "Built-in content management system for case studies and blogs" }, "id": { "S": "entity-6" }, "importance": { "N": "0.5" }, "mentions": { "L": [ { "M": { "end": { "N": "737" }, "start": { "N": "734" }, "text": { "S": "CMS" } } } ] }, "text": { "S": "CMS" }, "type": { "S": "concept" } } },
                            { "M": { "context": { "S": "Search engine optimization capabilities highlighted across options" }, "id": { "S": "entity-7" }, "importance": { "N": "0.7" }, "mentions": { "L": [ { "M": { "end": { "N": "779" }, "start": { "N": "776" }, "text": { "S": "SEO" } } } ] }, "text": { "S": "SEO" }, "type": { "S": "concept" } } },
                            { "M": { "context": { "S": "Domain Name System pointing for domain integration" }, "id": { "S": "entity-8" }, "importance": { "N": "0.4" }, "mentions": { "L": [ { "M": { "end": { "N": "873" }, "start": { "N": "870" }, "text": { "S": "DNS" } } } ] }, "text": { "S": "DNS" }, "type": { "S": "technical" } } },
                            { "M": { "context": { "S": "Recommended DIY platform for most modern design and speed to market" }, "id": { "S": "entity-9" }, "importance": { "N": "1" }, "mentions": { "L": [ { "M": { "end": { "N": "1062" }, "start": { "N": "1056" }, "text": { "S": "Framer" } } } ] }, "text": { "S": "Framer" }, "type": { "S": "product" } } },
                            { "M": { "context": { "S": "Software as a Service aesthetics for B2B consulting" }, "id": { "S": "entity-10" }, "importance": { "N": "0.4" }, "mentions": { "L": [ { "M": { "end": { "N": "1270" }, "start": { "N": "1266" }, "text": { "S": "SaaS" } } } ] }, "text": { "S": "SaaS" }, "type": { "S": "concept" } } },
                            { "M": { "context": { "S": "Flexible DIY platform with Elementor for customization" }, "id": { "S": "entity-11" }, "importance": { "N": "0.7" }, "mentions": { "L": [ { "M": { "end": { "N": "1530" }, "start": { "N": "1521" }, "text": { "S": "WordPress" } } } ] }, "text": { "S": "WordPress" }, "type": { "S": "product" } } },
                            { "M": { "context": { "S": "Drag-and-drop builder plugin for WordPress" }, "id": { "S": "entity-12" }, "importance": { "N": "0.6" }, "mentions": { "L": [ { "M": { "end": { "N": "1565" }, "start": { "N": "1556" }, "text": { "S": "Elementor" } } } ] }, "text": { "S": "Elementor" }, "type": { "S": "product" } } },
                            { "M": { "context": { "S": "Recommended hosting provider for WordPress" }, "id": { "S": "entity-13" }, "importance": { "N": "0.3" }, "mentions": { "L": [ { "M": { "end": { "N": "1650" }, "start": { "N": "1641" }, "text": { "S": "SiteGround" } } } ] }, "text": { "S": "SiteGround" }, "type": { "S": "organization" } } },
                            { "M": { "context": { "S": "Alternative hosting provider for WordPress" }, "id": { "S": "entity-14" }, "importance": { "N": "0.3" }, "mentions": { "L": [ { "M": { "end": { "N": "1660" }, "start": { "N": "1651" }, "text": { "S": "Hostinger" } } } ] }, "text": { "S": "Hostinger" }, "type": { "S": "organization" } } },
                            { "M": { "context": { "S": "Pro version of Elementor for advanced features" }, "id": { "S": "entity-15" }, "importance": { "N": "0.5" }, "mentions": { "L": [ { "M": { "end": { "N": "1704" }, "start": { "N": "1691" }, "text": { "S": "Elementor Pro" } } } ] }, "text": { "S": "Elementor Pro" }, "type": { "S": "product" } } },
                            { "M": { "context": { "S": "Customer Relationship Management integration for scalability" }, "id": { "S": "entity-16" }, "importance": { "N": "0.4" }, "mentions": { "L": [ { "M": { "end": { "N": "1964" }, "start": { "N": "1961" }, "text": { "S": "CRM" } } } ] }, "text": { "S": "CRM" }, "type": { "S": "concept" } } },
                            { "M": { "context": { "S": "Ultra budget DIY for one-page sites" }, "id": { "S": "entity-17" }, "importance": { "N": "0.5" }, "mentions": { "L": [ { "M": { "end": { "N": "2231" }, "start": { "N": "2226" }, "text": { "S": "Carrd" } } } ] }, "text": { "S": "Carrd" }, "type": { "S": "product" } } },
                            { "M": { "context": { "S": "Free hosting platform for custom HTML/CSS sites" }, "id": { "S": "entity-18" }, "importance": { "N": "0.4" }, "mentions": { "L": [ { "M": { "end": { "N": "2556" }, "start": { "N": "2549" }, "text": { "S": "Netlify" } } } ] }, "text": { "S": "Netlify" }, "type": { "S": "organization" } } },
                            { "M": { "context": { "S": "Alternative free hosting for custom sites" }, "id": { "S": "entity-19" }, "importance": { "N": "0.4" }, "mentions": { "L": [ { "M": { "end": { "N": "2566" }, "start": { "N": "2561" }, "text": { "S": "Vercel" } } } ] }, "text": { "S": "Vercel" }, "type": { "S": "organization" } } },
                            { "M": { "context": { "S": "Modern framework for custom site development" }, "id": { "S": "entity-20" }, "importance": { "N": "0.3" }, "mentions": { "L": [ { "M": { "end": { "N": "2646" }, "start": { "N": "2641" }, "text": { "S": "React" } } } ] }, "text": { "S": "React" }, "type": { "S": "technical" } } },
                            { "M": { "context": { "S": "CSS framework for design freedom" }, "id": { "S": "entity-21" }, "importance": { "N": "0.3" }, "mentions": { "L": [ { "M": { "end": { "N": "2665" }, "start": { "N": "2653" }, "text": { "S": "Tailwind CSS" } } } ] }, "text": { "S": "Tailwind CSS" }, "type": { "S": "technical" } } },
                            { "M": { "context": { "S": "Version control platform for custom development" }, "id": { "S": "entity-22" }, "importance": { "N": "0.3" }, "mentions": { "L": [ { "M": { "end": { "N": "2707" }, "start": { "N": "2701" }, "text": { "S": "GitHub" } } } ] }, "text": { "S": "GitHub" }, "type": { "S": "organization" } } },
                            { "M": { "context": { "S": "Cost estimate for Webflow option" }, "id": { "S": "entity-23" }, "importance": { "N": "0.4" }, "mentions": { "L": [ { "M": { "end": { "N": "314" }, "start": { "N": "301" }, "text": { "S": "$14-29/month" } } } ] }, "text": { "S": "$14-29/month" }, "type": { "S": "metric" } } },
                            { "M": { "context": { "S": "Time investment for Webflow build" }, "id": { "S": "entity-24" }, "importance": { "N": "0.4" }, "mentions": { "L": [ { "M": { "end": { "N": "954" }, "start": { "N": "941" }, "text": { "S": "2-3 weekends" } } } ] }, "text": { "S": "2-3 weekends" }, "type": { "S": "metric" } } },
                            { "M": { "context": { "S": "Low cost for recommended Framer option" }, "id": { "S": "entity-25" }, "importance": { "N": "0.5" }, "mentions": { "L": [ { "M": { "end": { "N": "1146" }, "start": { "N": "1133" }, "text": { "S": "$5-15/month" } } } ] }, "text": { "S": "$5-15/month" }, "type": { "S": "metric" } } },
                            { "M": { "context": { "S": "Total cost for Carrd ultra budget option" }, "id": { "S": "entity-26" }, "importance": { "N": "0.3" }, "mentions": { "L": [ { "M": { "end": { "N": "2450" }, "start": { "N": "2441" }, "text": { "S": "$19/year" } } } ] }, "text": { "S": "$19/year" }, "type": { "S": "metric" } } }
                        ]
                    },
                    "relationships": {
                        "L": [
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "128" }, "start": { "N": "58" }, "text": { "S": "Strategic Cloud Partnership Services - helping businesses maximize their cloud vendor relationships (AWS, etc.)" } } } ] }, "id": { "S": "rel-1" }, "source": { "S": "entity-1" }, "strength": { "N": "0.9" }, "target": { "S": "entity-2" }, "type": { "S": "relates-to" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "230" }, "start": { "N": "190" }, "text": { "S": "This is a B2B consulting service that deserves a much more sophisticated" } } } ] }, "id": { "S": "rel-2" }, "source": { "S": "entity-1" }, "strength": { "N": "1" }, "target": { "S": "entity-3" }, "type": { "S": "part-of" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "510" }, "start": { "N": "450" }, "text": { "S": "Built-in CMS for case studies and blog posts" } } } ] }, "id": { "S": "rel-3" }, "source": { "S": "entity-4" }, "strength": { "N": "0.8" }, "target": { "S": "entity-6" }, "type": { "S": "uses" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "550" }, "start": { "N": "520" }, "text": { "S": "Excellent SEO capabilities" } } } ] }, "id": { "S": "rel-4" }, "source": { "S": "entity-4" }, "strength": { "N": "0.8" }, "target": { "S": "entity-7" }, "type": { "S": "uses" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "640" }, "start": { "N": "580" }, "text": { "S": "Can keep GoDaddy domain ($15/year) and just point DNS" } } } ] }, "id": { "S": "rel-5" }, "source": { "S": "entity-4" }, "strength": { "N": "0.7" }, "target": { "S": "entity-5" }, "type": { "S": "uses" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "650" }, "start": { "N": "630" }, "text": { "S": "point DNS" } } } ] }, "id": { "S": "rel-6" }, "source": { "S": "entity-4" }, "strength": { "N": "0.7" }, "target": { "S": "entity-8" }, "type": { "S": "uses" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "340" }, "start": { "N": "320" }, "text": { "S": "Cost: $14-29/month" } } } ] }, "id": { "S": "rel-7" }, "source": { "S": "entity-4" }, "strength": { "N": "0.9" }, "target": { "S": "entity-23" }, "type": { "S": "requires" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "1110" }, "start": { "N": "1050" }, "text": { "S": "Built for modern B2B SaaS/consulting aesthetics" } } } ] }, "id": { "S": "rel-8" }, "source": { "S": "entity-9" }, "strength": { "N": "0.8" }, "target": { "S": "entity-10" }, "type": { "S": "relates-to" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "1110" }, "start": { "N": "1050" }, "text": { "S": "Built for modern B2B SaaS/consulting aesthetics" } } } ] }, "id": { "S": "rel-9" }, "source": { "S": "entity-9" }, "strength": { "N": "0.8" }, "target": { "S": "entity-3" }, "type": { "S": "relates-to" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "1500" }, "start": { "N": "1450" }, "text": { "S": "WordPress + Elementor (DIY - Most Flexible)" } } } ] }, "id": { "S": "rel-10" }, "source": { "S": "entity-11" }, "strength": { "N": "0.9" }, "target": { "S": "entity-12" }, "type": { "S": "uses" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "1600" }, "start": { "N": "1550" }, "text": { "S": "$7-15/month hosting (SiteGround/Hostinger) + $59/year Elementor Pro" } } } ] }, "id": { "S": "rel-11" }, "source": { "S": "entity-11" }, "strength": { "N": "0.8" }, "target": { "S": "entity-15" }, "type": { "S": "uses" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "1820" }, "start": { "N": "1750" }, "text": { "S": "Can add booking systems, CRM integration, etc." } } } ] }, "id": { "S": "rel-12" }, "source": { "S": "entity-11" }, "strength": { "N": "0.7" }, "target": { "S": "entity-16" }, "type": { "S": "uses" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "2220" }, "start": { "N": "2200" }, "text": { "S": "Keep GoDaddy domain" } } } ] }, "id": { "S": "rel-13" }, "source": { "S": "entity-17" }, "strength": { "N": "0.7" }, "target": { "S": "entity-5" }, "type": { "S": "uses" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "2120" }, "start": { "N": "2100" }, "text": { "S": "Cost: $19/year total" } } } ] }, "id": { "S": "rel-14" }, "source": { "S": "entity-17" }, "strength": { "N": "0.9" }, "target": { "S": "entity-26" }, "type": { "S": "requires" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "2720" }, "start": { "N": "2650" }, "text": { "S": "Use modern frameworks (React, Tailwind CSS)" } } } ] }, "id": { "S": "rel-15" }, "source": { "S": "entity-18" }, "strength": { "N": "0.7" }, "target": { "S": "entity-20" }, "type": { "S": "uses" } } },
                            { "M": { "evidence": { "L": [ { "M": { "end": { "N": "3300" }, "start": { "N": "3200" }, "text": { "S": "Start with Framer ($5/month). Here's why for your business:" } } } ] }, "id": { "S": "rel-16" }, "source": { "S": "entity-1" }, "strength": { "N": "0.9" }, "target": { "S": "entity-9" }, "type": { "S": "uses" } } }
                        ]
                    },
                    "signals": {
                        "M": {
                            "argumentative": { "N": "1" },
                            "process": { "N": "0.6" },
                            "quantitative": { "N": "1" },
                            "structural": { "N": "1" },
                            "technical": { "N": "0.8" },
                            "temporal": { "N": "0.7" }
                        }
                    },
                    "tldr": {
                        "M": {
                            "confidence": { "N": "0.85" },
                            "generatedAt": { "S": "2025-12-10T06:38:31.009Z" },
                            "model": { "S": "x-ai/grok-4.1-fast" },
                            "text": { "S": "Proposes 5 cost-effective DIY/hybrid website options for a cloud consulting business." }
                        }
                    }
                }
            },
            "analysisVersion": { "S": "v1.0" },
            "createdAt": { "S": "2025-12-10T06:39:41.596Z" }
        };

        const unwrap = (obj) => {
            if (!obj || typeof obj !== 'object') return obj;
            if (Array.isArray(obj)) return obj.map(unwrap);
            if (obj.S !== undefined) return obj.S;
            if (obj.N !== undefined) return Number(obj.N);
            if (obj.M !== undefined) {
                const res = {};
                Object.entries(obj.M).forEach(([k, v]) => res[k] = unwrap(v));
                return res;
            }
            if (obj.L !== undefined) return obj.L.map(unwrap);
            const res = {};
            Object.entries(obj).forEach(([k, v]) => res[k] = unwrap(v));
            return res;
        };

        const DATA = unwrap(RAW_DATA);

        // --- UI Components ---
        
        const Sidebar = ({ node, relatedLinks, onClose }) => {
            if (!node) return null;
            const Config = NODE_CONFIG[node.type];
            const Icon = Config.icon;

            return (
                <div className="fixed right-4 top-4 bottom-4 w-[400px] glass rounded-3xl z-50 flex flex-col shadow-2xl overflow-hidden animate-slide-in transition-transform duration-300">
                    <div className="p-8 border-b border-white/5 bg-white/5">
                        <div className="flex justify-between items-start mb-6">
                            <div className="p-3 rounded-2xl bg-white/10 text-white border border-white/10">
                                <Icon />
                            </div>
                            <button onClick={onClose} className="text-white/40 hover:text-white text-xl">âœ•</button>
                        </div>
                        <h2 className="text-2xl font-black text-white leading-tight mb-2">{node.text}</h2>
                        <div className="inline-flex items-center gap-2 px-3 py-1 bg-white/5 rounded-full text-[10px] font-bold text-white/50 tracking-widest uppercase border border-white/5">
                            {node.type}
                        </div>
                    </div>

                    <div className="flex-1 overflow-y-auto p-8 custom-scroll space-y-10">
                        <div>
                            <h3 className="text-[10px] font-bold text-white/30 uppercase tracking-[0.2em] mb-4">Description</h3>
                            <p className="text-indigo-100/80 leading-relaxed text-sm font-light italic">"{node.context}"</p>
                        </div>

                        {node.mentions && (
                            <div>
                                <h3 className="text-[10px] font-bold text-white/30 uppercase tracking-[0.2em] mb-4">Occurrences</h3>
                                <div className="space-y-3">
                                    {node.mentions.map((m, i) => (
                                        <div key={i} className="bg-black/40 p-4 rounded-xl border border-white/5">
                                            <p className="text-xs text-slate-300 font-mono">"{m.text}"</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        <div>
                            <h3 className="text-[10px] font-bold text-white/30 uppercase tracking-[0.2em] mb-4">Neural Connections</h3>
                            <div className="space-y-2">
                                {relatedLinks.map(l => (
                                    <div key={l.id} className="flex items-center justify-between p-3 bg-white/5 rounded-xl border border-white/5 group hover:border-indigo-500/50 transition-colors">
                                        <div className="flex items-center gap-3">
                                            <div className="w-1.5 h-1.5 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.8)]" />
                                            <span className="text-xs text-slate-300 font-medium capitalize">{l.type}</span>
                                        </div>
                                        <span className="text-[10px] text-slate-500 font-mono truncate max-w-[150px]">
                                            {l.otherNode.text}
                                        </span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    <div className="p-6 bg-black/40 text-[9px] font-mono text-white/20 border-t border-white/5 flex justify-between">
                        <span>NODE_ID: {node.id.split('-')[1]}</span>
                        <span>IMPORTANCE: {node.importance.toFixed(2)}</span>
                    </div>
                </div>
            );
        };

        const App = () => {
            const svgRef = useRef(null);
            const [selectedNodeId, setSelectedNodeId] = useState(null);
            
            const nodes = useMemo(() => DATA.analysis.entities.map(e => ({ ...e })), []);
            const links = useMemo(() => DATA.analysis.relationships.map(r => ({
                id: r.id,
                source: r.source,
                target: r.target,
                type: r.type,
                strength: r.strength
            })), []);

            const selectedNode = useMemo(() => nodes.find(n => n.id === selectedNodeId), [selectedNodeId]);
            const relatedLinks = useMemo(() => {
                if (!selectedNodeId) return [];
                return links.filter(l => l.source === selectedNodeId || l.target === selectedNodeId)
                            .map(l => ({
                                ...l,
                                otherNode: nodes.find(n => n.id === (l.source === selectedNodeId ? l.target : l.source))
                            }));
            }, [selectedNodeId]);

            useEffect(() => {
                if (!svgRef.current) return;
                
                const width = window.innerWidth;
                const height = window.innerHeight;
                const svg = d3.select(svgRef.current);
                svg.selectAll("*").remove();

                const container = svg.append("g");
                
                const zoom = d3.zoom()
                    .scaleExtent([0.1, 5])
                    .on("zoom", (e) => container.attr("transform", e.transform));
                
                svg.call(zoom);

                const simulation = d3.forceSimulation(nodes)
                    .force("link", d3.forceLink(links).id(d => d.id).distance(200))
                    .force("charge", d3.forceManyBody().strength(-800))
                    .force("center", d3.forceCenter(width / 2, height / 2))
                    .force("collide", d3.forceCollide().radius(80));

                const link = container.append("g")
                    .selectAll("path")
                    .data(links)
                    .join("path")
                    .attr("class", "link-flow")
                    .attr("stroke", "rgba(99, 102, 241, 0.2)")
                    .attr("stroke-width", 1.5)
                    .attr("fill", "none");

                const node = container.append("g")
                    .selectAll("g")
                    .data(nodes)
                    .join("g")
                    .on("click", (e, d) => {
                        e.stopPropagation();
                        setSelectedNodeId(d.id);
                    })
                    .style("cursor", "pointer");

                // Glow Filter
                const defs = svg.append("defs");
                const filter = defs.append("filter").attr("id", "glow");
                filter.append("feGaussianBlur").attr("stdDeviation", "3.5").attr("result", "blur");
                filter.append("feComposite").attr("in", "SourceGraphic").attr("in2", "blur").attr("operator", "over");

                // Circles
                node.append("circle")
                    .attr("r", d => d.importance * 25 + 10)
                    .attr("fill", "#020617")
                    .attr("stroke", d => NODE_CONFIG[d.type]?.color || "#fff")
                    .attr("stroke-width", 2)
                    .attr("class", "node-pulse")
                    .style("filter", "url(#glow)");

                // Labels
                node.append("text")
                    .attr("dy", d => d.importance * 25 + 35)
                    .attr("text-anchor", "middle")
                    .text(d => d.text)
                    .attr("fill", "white")
                    .style("font-size", "12px")
                    .style("font-weight", "600")
                    .style("text-transform", "uppercase")
                    .style("letter-spacing", "0.05em")
                    .style("pointer-events", "none")
                    .style("text-shadow", "0 0 10px rgba(0,0,0,1)");

                simulation.on("tick", () => {
                    link.attr("d", d => {
                        const dx = d.target.x - d.source.x, dy = d.target.y - d.source.y, dr = Math.sqrt(dx * dx + dy * dy);
                        return `M${d.source.x},${d.source.y}A${dr},${dr} 0 0,1 ${d.target.x},${d.target.y}`;
                    });
                    node.attr("transform", d => `translate(${d.x},${d.y})`);
                });

                // Selection Effect
                if (selectedNodeId) {
                    node.style("opacity", d => 
                        d.id === selectedNodeId || links.some(l => (l.source.id === selectedNodeId && l.target.id === d.id) || (l.target.id === selectedNodeId && l.source.id === d.id))
                        ? 1 : 0.15
                    );
                    link.style("opacity", d => (d.source.id === selectedNodeId || d.target.id === selectedNodeId) ? 1 : 0.05);
                } else {
                    node.style("opacity", 1);
                    link.style("opacity", 0.6);
                }

                return () => simulation.stop();
            }, [selectedNodeId]);

            return (
                <div className="w-screen h-screen relative bg-[#020617]">
                    {/* Header */}
                    <div className="absolute top-10 left-10 z-10 pointer-events-none">
                        <div className="flex items-center gap-4 mb-4">
                            <div className="w-12 h-1 bg-indigo-500 rounded-full shadow-[0_0_15px_rgba(99,102,241,1)]" />
                            <h1 className="text-4xl font-black tracking-tighter text-white">NEURAL NEXUS</h1>
                        </div>
                        <p className="text-white/30 font-mono text-xs uppercase tracking-[0.3em]">Advanced Semantic Graph Visualization</p>
                    </div>

                    <svg ref={svgRef} className="w-full h-full" onClick={() => setSelectedNodeId(null)}></svg>
                    
                    <Sidebar node={selectedNode} relatedLinks={relatedLinks} onClose={() => setSelectedNodeId(null)} />
                    
                    {/* Legend */}
                    <div className="absolute bottom-10 left-10 glass px-6 py-4 rounded-3xl border border-white/5 flex gap-8">
                        {Object.entries(NODE_CONFIG).map(([key, cfg]) => (
                            <div key={key} className="flex items-center gap-3">
                                <div className="w-2 h-2 rounded-full" style={{ backgroundColor: cfg.color, boxShadow: `0 0 10px ${cfg.color}` }} />
                                <span className="text-[10px] font-bold text-white/40 uppercase tracking-widest">{cfg.label}</span>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>