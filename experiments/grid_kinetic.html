<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vaisu - Kinetic Constellation</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #030712;
            --primary: #2563eb;
            --accent: #f472b6;
            --card-bg: #0f172a;
        }
        body { 
            background: var(--bg); 
            color: #f8fafc; 
            font-family: 'Plus Jakarta Sans', sans-serif;
            overflow-x: hidden;
        }
        .kinetic-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 32px;
            position: relative;
            z-index: 10;
        }
        .signal-line {
            fill: none;
            stroke: var(--primary);
            stroke-width: 2;
            stroke-dasharray: 8 8;
            stroke-linecap: round;
            opacity: 0;
            transition: opacity 0.5s, stroke-dashoffset 0.5s;
        }
        .signal-line.active {
            opacity: 0.6;
            animation: flow 1s linear infinite;
        }
        @keyframes flow {
            from { stroke-dashoffset: 16; }
            to { stroke-dashoffset: 0; }
        }
        .glass-card {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }
        .glass-card:hover {
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-4px);
        }
        .card-active {
            border-color: var(--primary) !important;
            box-shadow: 0 0 40px rgba(37, 99, 235, 0.2);
        }
        .card-related {
            border-color: var(--accent) !important;
            box-shadow: 0 0 30px rgba(244, 114, 182, 0.1);
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useMemo, useRef, useEffect } = React;

        const DATA = {
            entities: [
                { id: "e1", text: "Cloud Partnership Services", type: "ROOT", group: 0 },
                { id: "e2", text: "AWS Integration", type: "ORG", group: 1 },
                { id: "e4", text: "Webflow Engine", type: "PLATFORM", group: 1 },
                { id: "e9", text: "Framer Canvas", type: "PLATFORM", group: 1 },
                { id: "e11", text: "WordPress Core", type: "LEGACY", group: 2 },
                { id: "e7", text: "SEO Optimizer", type: "FEATURE", group: 2 },
                { id: "e23", text: "Cost Stream: $29/mo", type: "METRIC", group: 3 },
                { id: "e25", text: "Entry Point: $5/mo", type: "METRIC", group: 3 }
            ],
            links: [
                { s: "e1", t: "e2" }, { s: "e1", t: "e4" }, { s: "e1", t: "e9" },
                { s: "e4", t: "e7" }, { s: "e4", t: "e23" }, { s: "e9", t: "e25" }
            ]
        };

        const App = () => {
            const [active, setActive] = useState(null);
            const cardRefs = useRef({});
            const [lines, setLines] = useState([]);

            const neighbors = useMemo(() => {
                if (!active) return new Set();
                const n = new Set();
                DATA.links.forEach(l => {
                    if (l.s === active) n.add(l.t);
                    if (l.t === active) n.add(l.s);
                });
                return n;
            }, [active]);

            useEffect(() => {
                if (!active) { setLines([]); return; }
                const newLines = [];
                DATA.links.forEach((l, i) => {
                    if (l.s === active || l.t === active) {
                        const sEl = cardRefs.current[l.s];
                        const tEl = cardRefs.current[l.t];
                        if (sEl && tEl) {
                            const sRect = sEl.getBoundingClientRect();
                            const tRect = tEl.getBoundingClientRect();
                            newLines.push({
                                id: `line-${i}`,
                                x1: sRect.left + sRect.width / 2,
                                y1: sRect.top + sRect.height / 2,
                                x2: tRect.left + tRect.width / 2,
                                y2: tRect.top + tRect.height / 2
                            });
                        }
                    }
                });
                setLines(newLines);
            }, [active]);

            return (
                <div className="p-20 relative min-h-screen">
                    <header className="mb-20">
                        <h1 className="text-4xl font-black tracking-tight flex items-center gap-4">
                            <span className="w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center text-xl">âš¡</span>
                            KINETIC_CONSTELATION
                        </h1>
                        <p className="text-zinc-500 font-mono text-xs mt-2 uppercase tracking-widest">Active Signal Mapping Protocol</p>
                    </header>

                    <svg className="fixed inset-0 w-full h-full pointer-events-none z-0">
                        {lines.map(l => (
                            <line 
                                key={l.id} 
                                x1={l.x1} y1={l.y1} x2={l.x2} y2={l.y2} 
                                className="signal-line active"
                            />
                        ))}
                    </svg>

                    <div className="kinetic-grid">
                        {[0, 1, 2, 3].map(group => (
                            <div key={group} className="flex flex-col gap-6">
                                <div className="text-[10px] font-bold text-zinc-600 uppercase tracking-[0.3em] mb-2 border-b border-white/5 pb-2">Layer_0{group}</div>
                                {DATA.entities.filter(e => e.group === group).map(e => (
                                    <div 
                                        key={e.id}
                                        ref={el => cardRefs.current[e.id] = el}
                                        onClick={() => setActive(active === e.id ? null : e.id)}
                                        className={`glass-card rounded-2xl p-6 cursor-pointer relative ${active === e.id ? 'card-active' : neighbors.has(e.id) ? 'card-related' : ''}`}
                                    >
                                        <div className="text-[9px] font-mono text-zinc-500 mb-2">UID_{e.id}</div>
                                        <div className="font-bold text-lg leading-tight">{e.text}</div>
                                        <div className="mt-4 flex justify-between items-center">
                                            <span className="text-[10px] px-2 py-0.5 rounded bg-white/5 text-zinc-400 font-bold uppercase">{e.type}</span>
                                            {active === e.id && <div className="w-2 h-2 rounded-full bg-blue-500 animate-ping" />}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        ))}
                    </div>
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>