<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vaisu - Modular Synth Grid</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #121212; color: #fff; font-family: 'Inter', sans-serif; }
        .synth-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
        .module { background: #1a1a1a; border: 4px solid #222; position: relative; }
        .port { width: 12px; height: 12px; border-radius: 50%; background: #333; position: absolute; bottom: 10px; right: 10px; }
        .module-active { border-color: #f59e0b; }
        .module-receiver { border-color: #3b82f6; }
        .signal-indicator { position: absolute; top: -2px; left: 50%; transform: translateX(-50%); width: 40px; height: 4px; background: #3b82f6; border-radius: 0 0 4px 4px; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;
        const DATA = [
            { id: "e1", name: "Cloud Strategy", type: "MASTER" },
            { id: "e2", name: "AWS", type: "NODE" },
            { id: "e4", name: "Webflow", type: "NODE" },
            { id: "e9", name: "Framer", type: "NODE" },
            { id: "e11", name: "WP Core", type: "NODE" },
            { id: "e23", name: "Billing_V1", type: "METRIC" }
        ];
        const PATHS = { "e1": ["e2", "e9"], "e4": ["e23"], "e11": ["e1"] };

        const App = () => {
            const [source, setSource] = useState(null);
            const targets = source ? (PATHS[source] || []) : [];

            return (
                <div className="p-16 flex flex-col items-center">
                    <h1 className="text-xl font-bold mb-12 text-zinc-600 font-mono">PATCH_BAY_MODULAR_GRID</h1>
                    <div className="synth-grid w-full max-w-4xl">
                        {DATA.map(m => (
                            <div 
                                key={m.id}
                                onClick={() => setSource(source === m.id ? null : m.id)}
                                className={`module rounded p-6 h-40 cursor-pointer transition-colors ${source === m.id ? 'module-active' : targets.includes(m.id) ? 'module-receiver' : ''}`}
                            >
                                {targets.includes(m.id) && <div className="signal-indicator animate-pulse shadow-[0_0_10px_#3b82f6]" />}
                                <div className="text-[9px] font-black text-zinc-600 uppercase tracking-tighter mb-2">{m.type}</div>
                                <div className="text-lg font-bold leading-tight tracking-tight">{m.name}</div>
                                <div className={`port ${source === m.id ? 'bg-amber-500 shadow-[0_0_10px_#f59e0b]' : targets.includes(m.id) ? 'bg-blue-500 shadow-[0_0_10px_#3b82f6]' : ''}`} />
                            </div>
                        ))}
                    </div>
                    <div className="mt-20 p-8 bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-4xl">
                        <div className="flex gap-12">
                            <div>
                                <div className="text-[10px] font-bold text-zinc-500 mb-1">SIGNAL_SOURCE</div>
                                <div className="text-white font-bold">{source ? source : "NONE"}</div>
                            </div>
                            <div>
                                <div className="text-[10px] font-bold text-zinc-500 mb-1">RECEIVING_NODES</div>
                                <div className="text-blue-400 font-bold">{targets.length > 0 ? targets.join(", ") : "WAITING..."}</div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>