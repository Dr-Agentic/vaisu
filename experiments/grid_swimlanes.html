<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vaisu - Swimlane Matrix</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #0a0a0a; color: #fff; font-family: sans-serif; }
        .lane { border-bottom: 1px solid rgba(255,255,255,0.05); min-height: 200px; position: relative; }
        .lane-label { transform: rotate(-90deg); transform-origin: left bottom; width: 200px; left: -160px; bottom: 20px; }
        .card { width: 220px; height: 120px; flex-shrink: 0; background: #111; border: 1px solid #222; transition: all 0.3s; }
        .card-active { border-color: #3b82f6; background: #1e3a8a; }
        .card-related { border-color: #10b981; box-shadow: 0 0 15px rgba(16,185,129,0.2); }
        .connector-line { position: absolute; background: #3b82f6; opacity: 0.2; width: 2px; z-index: 0; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useMemo } = React;
        const CATEGORIES = ["product", "concept", "organization", "metric"];
        const DATA = {
            entities: [
                { id: "e1", text: "Strategic Cloud Services", type: "concept" },
                { id: "e2", text: "AWS", type: "organization" },
                { id: "e4", text: "Webflow", type: "product" },
                { id: "e9", text: "Framer", type: "product" },
                { id: "e23", text: "$14-29/month", type: "metric" }
            ],
            relationships: [
                { source: "e1", target: "e2" },
                { source: "e1", target: "e9" },
                { source: "e4", target: "e23" }
            ]
        };

        const App = () => {
            const [selected, setSelected] = useState(null);
            const relatedIds = useMemo(() => {
                if (!selected) return new Set();
                const ids = new Set();
                DATA.relationships.forEach(r => {
                    if (r.source === selected) ids.add(r.target);
                    if (r.target === selected) ids.add(r.source);
                });
                return ids;
            }, [selected]);

            return (
                <div className="p-20">
                    <h1 className="text-3xl font-bold mb-20 text-zinc-700 uppercase tracking-widest">Swimlane Logic</h1>
                    {CATEGORIES.map(cat => (
                        <div key={cat} className="lane flex items-center gap-8 pl-24">
                            <div className="absolute left-0 lane-label font-black text-xs text-zinc-800 uppercase tracking-widest">{cat}</div>
                            {DATA.entities.filter(e => e.type === cat).map(e => (
                                <div 
                                    key={e.id}
                                    onClick={() => setSelected(e.id)}
                                    className={`card rounded-xl p-4 cursor-pointer flex flex-col justify-center ${selected === e.id ? 'card-active' : ''} ${relatedIds.has(e.id) ? 'card-related' : ''}`}
                                >
                                    <div className="text-xs text-zinc-500 mb-2"># {e.id}</div>
                                    <div className="font-bold text-sm">{e.text}</div>
                                </div>
                            ))}
                        </div>
                    ))}
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>